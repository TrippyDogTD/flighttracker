<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Live Flight Board</title>
  <link rel="stylesheet" href="/static/styles.css" />
  <meta http-equiv="refresh" content="0.5">
</head>
<body>
  <div class="board">
    <img id="logo" src="/static/logos/default.png" alt="Logo" class="logo" />
    <div class="info">
      <div class="line"><span id="airline">Loading...</span></div>
      <div class="line">Flight <span id="flight">--</span></div>
      <div class="line">Destination <span id="destination">--</span></div>
      <div class="line">Aircraft <span id="aircraft">--</span></div>
      <div class="line">Altitude <span id="altitude">--</span> ft</div>
    </div>
  </div>

  <script>
    async function fetchFlight() {
      const res = await fetch("/flight/current");
      const data = await res.json();

      if (Object.keys(data).length === 0) return;

      document.getElementById("airline").textContent = data.airline || "--";
      document.getElementById("flight").textContent = data.flight || "--";
      document.getElementById("destination").textContent = data.destination || "--";
      document.getElementById("aircraft").textContent = data.aircraft || "--";
      document.getElementById("altitude").textContent = data.altitude || "--";
      document.getElementById("logo").src = data.logo || "/static/logos/default.png";
    }
    setInterval(fetchFlight, 500);
    fetchFlight();
  </script>
</body>
</html>
