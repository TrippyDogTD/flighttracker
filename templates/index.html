<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Live Flight Board</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <h1>âœˆ LIVE FLIGHT BOARD</h1>
  <div class="board">
    <img id="logo" src="/static/logos/default.png" alt="Logo" />
    <div class="info">
      <p id="status">Loading...</p>
      <p>Flight <span id="flight">--</span></p>
      <p>Destination <span id="dest">--</span></p>
      <p>Aircraft <span id="aircraft">--</span></p>
      <p>Altitude <span id="alt">--</span> ft</p>
    </div>
  </div>

  <script>
    async function updateFlight() {
      try {
        const res = await fetch("/flight");
        const data = await res.json();
        if (data.error) throw new Error(data.error);
        document.getElementById("status").textContent = "";
        document.getElementById("flight").textContent = data.flight;
        document.getElementById("dest").textContent = data.destination;
        document.getElementById("aircraft").textContent = data.aircraft;
        document.getElementById("alt").textContent = data.altitude;
        document.getElementById("logo").src = data.logo || "/static/logos/default.png";
      } catch (e) {
        console.error("Error:", e);
      }
    }

    setInterval(updateFlight, 500); // twice per second
    updateFlight();
  </script>
</body>
</html>
